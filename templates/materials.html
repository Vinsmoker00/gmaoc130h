{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Materials Library</h2>
  <a href="{{ url_for('material_new') }}" class="btn btn-primary">âž• New Material</a>
</div>

<table class="table table-striped">
  <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>PN</th>
      <th>SN</th>
      <th>Designation</th>
      <th>Category</th>
      <th>Stock</th>
      <th>Avionne</th>
      <th>Dotation</th>
      <th>Workshop</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for m in materials %}
    <tr>
      <td>{{ m[0] }}</td>
      <td>{{ m[1] }}</td>
      <td>{{ m[2] }}</td>
      <td>{{ m[3] }}</td>
      <td>{{ m[4] }}</td>
      <td>{{ m[5] }}</td>
      <td>{{ m[6] }}</td>
      <td>{{ m[7] }}</td>
      <td>{{ m[8] or '-' }}</td>
      <td>
        <a href="{{ url_for('material_edit', material_id=m[0]) }}" class="btn btn-sm btn-warning">Edit</a>
        <form action="{{ url_for('material_delete', material_id=m[0]) }}" method="post" style="display:inline;">
          <button type="submit" class="btn btn-sm btn-danger"
                  onclick="return confirm('Delete this material?')">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
